{
    "register": {
        "name": "register",
        "pass": [
            "Email is already being used.",
            "User has been registered.",
            "Successfully registered user."
        ],
        "args":{
            "email": "falcoeye-test@falcoeye.io",
            "username": "falcoeye_test",
            "name": "falcoeye test",
            "password": "falcoeye-test"
        }
    },
    "login": {
        "pass": [
            "Successfully logged in."
        ],
        "args":{
            "email": "falcoeye-test@falcoeye.io",
            "password": "falcoeye-test"
        }
    },
    "tests":[
        {
            "name": "Adding camera",
            "req_type": "post",
            "link": "/api/camera/",
            "pass": [
                "Camera already exist",
                "Camera has been added",
                "Successfully added camera"
            ],
            "args": {
                "name": "Harbour Village Bonaire Coral Reef 2",
                "streaming_type": "StreamingServer",
                "url": "https://www.youtube.com/watch?v=NwWgOilQuzw&t=4s",
                "status": "RUNNING"
            }
        },
        {
            "name": "Get camera",
            "req_type": "get",
            "link": "/api/camera",
            "pass": [
                "Camera data sent"
            ],
            "store": {
                "harbour_id":
                [
                    {
                        "type": "dict",
                        "key": "camera",
                        "from": "response"
                    },
                    {
                        "type": "list",
                        "condition": {
                            "key": "name",
                            "value":"Harbour Village Bonaire Coral Reef 2"
                        }
                    },
                    {
                        "type": "dict",
                        "key": "id",
                        "from": "value"
                    }
                ]
            }
        },
        {
            "name": "Get workflows",
            "req_type": "get",
            "link": "/api/workflow",
            "pass": [
                "workflow data sent"
            ],
            "store": {
                "fishcounter_id":
                [
                    {
                        "type": "dict",
                        "key": "workflow",
                        "from": "response"
                    },
                    {
                        "type": "list",
                        "condition": {
                            "key": "name",
                            "value":"KAUST Fish Counter"
                        }
                    },
                    {
                        "type": "dict",
                        "key": "id",
                        "from": "value"
                    }
                ]
            }
        },
        {
            "name": "Get Media",
            "req_type": "get",
            "link": "/api/media",
            "pass": [
                "User media sent"
            ],
            "store": {
                "harbour_video":
                [
                    {
                        "type": "dict",
                        "key": "media",
                        "from": "response"
                    },
                    {
                        "type": "list",
                        "condition": {
                            "key": "id",
                            "value":"9b9375b8-6d60-4c74-ba60-819e179d04da"
                        }
                    },
                    {
                        "type": "dict",
                        "key": "id",
                        "from": "value"
                    }
                ],
                "user_id":
                [
                    {
                        "type": "dict",
                        "key": "media",
                        "from": "response"
                    },
                    {
                        "type": "list",
                        "condition": {
                            "key": "id",
                            "value":"9b9375b8-6d60-4c74-ba60-819e179d04da"
                        }
                    },
                    {
                        "type": "dict",
                        "key": "user",
                        "from": "value"
                    }
                ]
            }
        },
        {
            "name": "New analysis",
            "req_type": "post",
            "link": "/api/analysis/",
            "pass": [
                "Analysis has been added."
            ],
            "args": {
                "name": "FishCounter_Test",
                "workflow_id": "$fishcounter_id",
                "status": "new",
                "args": {
                    "filename": "/user-assets/$user_id/videos/$harbour_video/video_original.mp4",
                    "sample_every": 30,
                    "min_score_thresh": 0.30,
                    "max_boxes": 30
                }
            }
        }
    ]
}
